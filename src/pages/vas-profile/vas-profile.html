
<ion-header>
  <ion-navbar color="tabbs">
    <ion-title text-center>
    	<span style="float: left">
    		<img src="assets/imgs/school_lms.png" width="40px" height="40px">
    	</span>
    	<span padding>
    		<h3 style="display: inline;">Profile&nbsp;&nbsp;&nbsp;<ion-icon name="person"></ion-icon></h3>
    	</span>
	</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
	<ion-grid no-padding>
		<ion-row>
			<ion-col col-sm-0 col-0 col-md-3>
			</ion-col>
			<ion-col col-sm-12 col-12 col-md-6>
				<ion-item no-lines color="tabbs" *ngIf="showCompany" text-wrap>
					<ion-buttons end padding-vertical>
						<button ion-button small color="tabbs2" (click)="edit()">
				  			<ion-icon name="ios-create" start></ion-icon> 
				  		</button>
						<button ion-button small color="tabbs2" (click)="toggleCompany()">
				  			Company 
				  		</button>
				  		<button ion-button small color="tabbs2" (click)="toggleUser()">
				  			<ion-icon name="person" start></ion-icon> 
				  		</button>
				  	</ion-buttons>
					<div text-center>
						<img src="{{vas?.company_logo}}" width="200px" height="200px" class="round" alt="User display picture"/>
					</div>
				    <h1 text-center> ~ {{ vas?.company_name }} </h1>
				    <ion-buttons end>
				    	<button clear ion-button (click)="logout()">
				    		<ion-icon name="power"></ion-icon>
				    	</button>
				    </ion-buttons>
				</ion-item>
				<ion-item no-lines color="tabbs" *ngIf="showUser" text-wrap>
					<ion-buttons end padding-vertical>
						<button ion-button small color="tabbs2" (click)="edit()">
				  			<ion-icon name="ios-create" start></ion-icon> 
				  		</button>
						<button ion-button small color="tabbs2" (click)="toggleCompany()">
				  			Company 
				  		</button>
				  		<button ion-button small color="tabbs2" (click)="toggleUser()">
				  			<ion-icon name="person" start></ion-icon> 
				  		</button>
				  	</ion-buttons>
					<div text-center>
						<img src="{{vas?.user?.dp}}" width="200px" height="200px" class="round" alt="User display picture"/>
					</div>
					<h1 text-center>	
				  		{{vas?.profile?.firstname}} {{vas?.profile?.lastname}} 
				    </h1>
				    <ion-buttons end>
				    	<button clear ion-button (click)="logout()">
				    		<ion-icon name="power"></ion-icon>
				    	</button>
				    </ion-buttons>
				</ion-item>
				<ion-grid no-padding *ngIf="!editProfile">
					<ion-row>
						<ion-col col-3>
							<button ion-button full color="secondary" (click)="showAlert('App store', 'download apps')">
								<ion-icon name="appstore"></ion-icon>
							</button>
						</ion-col>
						<ion-col col-3 >
							<button ion-button full (click)="showAlert('Investments', 'Manage your investments')">
								<ion-icon name="trending-up"></ion-icon>
							</button>
						</ion-col>
						<ion-col col-3>
							<button ion-button full color="danger" (click)="showAlert('Online shopping', 'Shop online for whatever')">
								<ion-icon name="cart"></ion-icon>
							</button>
						</ion-col>
						<ion-col col-3>
							<button ion-button full (click)="showAlert('eWallet', 'Manage your electronic wallet')">
								wallet
							</button>
						</ion-col>
					</ion-row>
				</ion-grid>
				<ion-grid *ngIf="!editProfile">
					<ion-row>
						<ion-col col-6 col-md-6>
							Earning type
						</ion-col>
						<ion-col col-6 col-md-6>
							Amount
						</ion-col>
					</ion-row>
					<ion-row>
						<ion-col col-6 col-md-6>
							Available
						</ion-col>
						<ion-col col-6 col-md-6>
							0.00
						</ion-col>
					</ion-row>
					<ion-row>
						<ion-col col-6 col-md-6>
							Savings
						</ion-col>
						<ion-col col-6 col-md-6>
							0.00
						</ion-col>
					</ion-row>
					<ion-row>
						<ion-col col-6 col-md-6>
							Total
						</ion-col>
						<ion-col col-6 col-md-6>
							0.00
						</ion-col>
					</ion-row>
				</ion-grid>
				<div *ngIf="editProfile && showUser">
					<ion-item>
					  <ion-label>Title</ion-label>
					  <ion-select [(ngModel)]="vas.profile.title" required>
					    <ion-option value="Mr">Mr</ion-option>
					    <ion-option value="Mrs">Mrs</ion-option>
					    <ion-option value="Ms">Ms</ion-option>
					    <ion-option value="Dr">Dr</ion-option>
					    <ion-option value="Other">Other</ion-option>
					  </ion-select>
					</ion-item>
					<ion-item>
					  <ion-label floating>First Name</ion-label>
					  <ion-input type="text" [(ngModel)]="vas.profile.firstname" required></ion-input>
					</ion-item>
					<ion-item>
					  <ion-label floating>Last Name</ion-label>
					  <ion-input type="text" [(ngModel)]="vas.profile.lastname" required></ion-input>
					</ion-item>
					<ion-item>
					  <ion-label floating>Identity/Passport number</ion-label>
					  <ion-input type="password" [(ngModel)]="vas.profile.id_or_password" required></ion-input>
					</ion-item>
					<ion-item>
					  <ion-label>Gender</ion-label>
					  <ion-select [(ngModel)]="vas.profile.gender" required>
					    <ion-option value="Male">Male</ion-option>
					    <ion-option value="Female">Female</ion-option>
					    <ion-option value="N/A">N/A</ion-option>
					  </ion-select>
					</ion-item>
					<ion-item>
					  <ion-label floating>Cell Number</ion-label>
					  <ion-input type="number" [(ngModel)]="vas.profile.cell_number" required></ion-input>
					</ion-item>
					<ion-item>
					  <ion-label floating>Home Number</ion-label>
					  <ion-input type="number" [(ngModel)]="vas.profile.home_number"  required></ion-input>
					</ion-item>
					<ion-item>
					  <ion-label floating>Work Number</ion-label>
					  <ion-input type="number" [(ngModel)]="vas.profile.work_number"  required></ion-input>
					</ion-item>
					<ion-item>
					  <ion-label floating>Email Address</ion-label>
					  <ion-input type="email" [(ngModel)]="vas.profile.email"  required></ion-input>
					</ion-item>
					<ion-buttons end padding>
						<button ion-button>Save</button>
					</ion-buttons>
				</div>
				<div *ngIf="editProfile && showCompany">
					<ion-item>
					  <ion-label floating>Company Name</ion-label>
					  <ion-input type="text" [(ngModel)]="vas.company_name"  required></ion-input>
					</ion-item>
					<ion-item>
					  <ion-label floating>Company ID</ion-label>
					  <ion-input type="text" [(ngModel)]="vas.company_id"  required></ion-input>
					</ion-item>
					<ion-item>
					  <ion-label floating>Company registration number</ion-label>
					  <ion-input type="text" [(ngModel)]="vas.company_reg"  required></ion-input>
					</ion-item>
					<ion-item>
					  <ion-label floating>Company services</ion-label>
					  <ion-input type="text" [(ngModel)]="vas.service_description"  required></ion-input>
					</ion-item>
					<ion-item>
					  	<ion-label floating>Street Address:</ion-label>
						<ion-input type="text" [(ngModel)]="adressSearchTxt" (keyup)="getPredictions($event)" required></ion-input>
					</ion-item>
					<ion-list>
						<ion-item *ngFor="let pred of addPredictions" (click)="selectAddress(pred)">
							{{pred.description}}
						</ion-item>
					</ion-list>
					<ion-item>
					  <ion-label floating>City:</ion-label>
					  <ion-input type="text" [(ngModel)]="vas.address.city" required></ion-input>
					</ion-item>
					<ion-item>
					  <ion-label floating>Province:</ion-label>
					  <ion-input type="text" [(ngModel)]="vas.address.province" required></ion-input>
					</ion-item>
					<ion-item>
					  <ion-label floating>Postal Code:</ion-label>
					  <ion-input type="text" [(ngModel)]="vas.address.postal_code" required></ion-input>
					</ion-item>
					<ion-item>
					  <ion-label floating>Country:</ion-label>
					  <ion-input type="text" [(ngModel)]="vas.address.country" required></ion-input>
					</ion-item>
				</div>
			</ion-col>
			<ion-col col-sm-0 col-0 col-md-3>
			</ion-col>
		</ion-row>
	</ion-grid>

</ion-content>
