<!--
  Generated template for the SchoolProfilePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="tabbs">
    <ion-title text-center>
    	<span style="float: left">
    		<img src="assets/imgs/school_lms.png" width="40px" height="40px">
    	</span>
    	<span padding>
    		<h3 style="display: inline;">School Profile&nbsp;&nbsp;&nbsp;<ion-icon name="person"></ion-icon></h3>
    	</span>
    </ion-title>
  </ion-navbar>

</ion-header>


<ion-content>
	<ion-grid>
		<ion-row>
			<ion-col col-0 col-sm-0 col-md-0 col-lg-3>
			</ion-col>
			<ion-col col-12 col-sm-12 col-md-12 col-lg-6>
				
				<ion-item no-lines color="tabbs">
					<ion-buttons end padding-vertical>
						<button ion-button small color="tabbs2" (click)="edit()" >
				  			<ion-icon name="ios-create" start></ion-icon>&nbsp;&nbsp; School 
				  		</button>
				  		<button ion-button small color="tabbs2" (click)="edit()" >
				  			<ion-icon name="ios-create" start></ion-icon>&nbsp;&nbsp; User 
				  		</button>
				  	</ion-buttons>
					<div text-center>
						<img src="{{image}}" width="200px" height="200px" class="round" alt="User display picture"/>
					</div>
					<h1 text-center>	
				  		{{user?.firstname}} {{user?.lastname}} 
				    </h1>
				    <ion-buttons end>
				    	<button ion-button (click)="logout()">
				    		<ion-icon name="power"></ion-icon>
				    	</button>
				    </ion-buttons>
				</ion-item>
				<ion-buttons *ngIf="profileChanged" end>
					<button ion-button color="secondary" (click)="saveChanges()">save</button>
				</ion-buttons>
				<ion-item text-wrap *ngIf="!changeName">
					<h3 stacked>School</h3>
					<p> {{school?.name}} </p>
				</ion-item>
				<ion-item *ngIf="changeName">
					<ion-label stacked>School</ion-label>
					<ion-input type="text" [(ngModel)]="school.name" style="overflow-x: wrap;">
					</ion-input>
				</ion-item>
				<ion-buttons end>
					<button ion-button clear (click)="editName()"><ion-icon name="create"></ion-icon></button>
				</ion-buttons>
				<ion-item text-wrap *ngIf="!changePricipal">
					<h3 stacked>Principal</h3>
					<p> {{school?.principal}} </p>
				</ion-item>
				<ion-item text-wrap *ngIf="changePricipal">
					<ion-label stacked>Principal</ion-label>
					<ion-input type="text" [(ngModel)]="school.principal" style="overflow-x: wrap;">
					</ion-input>
				</ion-item>
				<ion-buttons end>
					<button ion-button clear (click)="editPrincipal()"><ion-icon name="create"></ion-icon></button>
				</ion-buttons>
				<ion-item>
					<h3>Country</h3>
					<p>{{school?.country}}</p>
				</ion-item>
				<ion-item>
					<h3>Province</h3>
					<p>{{school?.province}}</p>
				</ion-item>
				<ion-item>
					<h3>District</h3>
					<p>{{school?.district}}</p>
				</ion-item>
				<ion-item>
					<h3>GPS Details</h3>
					<p>lat: &nbsp;&nbsp;&nbsp;{{school?.lat}}</p>
					<p>lng: &nbsp;&nbsp;&nbsp;{{school?.lng}}</p>
				</ion-item>
				<ion-item>
					<h3>Postal Code</h3>
					<p>{{school?.postal_code}}</p>
				</ion-item>
			</ion-col>
			<ion-col col-0 col-sm-0 col-md-0 col-lg-3>
			</ion-col>
		</ion-row>
	</ion-grid>

</ion-content>
